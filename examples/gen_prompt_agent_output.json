{
  "root": "tick",
  "nodes": [
    {
      "name": "returns",
      "type": "Sub",
      "updateSource": ["tick.close", "prev_close"]
    },
    {
      "name": "prev_close",
      "type": "EMA",
      "init": { "alpha": 1.0 },
      "updateSource": ["tick.close"]
    },
    {
      "name": "short_vol",
      "type": "RollingStddevEW",
      "init": { "period": 10 },
      "updateSource": ["returns"]
    },
    {
      "name": "long_vol",
      "type": "RollingStddevEW",
      "init": { "period": 50 },
      "updateSource": ["returns"]
    },
    {
      "name": "vol_ratio",
      "type": "Div",
      "updateSource": ["short_vol.stddev", "long_vol.stddev"]
    },
    {
      "name": "vol_shift",
      "type": "Sub",
      "updateSource": ["vol_ratio", "one"]
    },
    {
      "name": "one",
      "type": "Const",
      "init": { "value": 1.0 }
    },
    {
      "name": "trend_fast",
      "type": "EMA",
      "init": { "period": 10 },
      "updateSource": ["tick.close"]
    },
    {
      "name": "trend_slow",
      "type": "EMA",
      "init": { "period": 30 },
      "updateSource": ["tick.close"]
    },
    {
      "name": "trend_diff",
      "type": "Sub",
      "updateSource": ["trend_fast", "trend_slow"]
    },
    {
      "name": "trend_strength",
      "type": "Div",
      "updateSource": ["trend_diff", "trend_slow"]
    },
    {
      "name": "vol_shift_abs",
      "type": "Abs",
      "updateSource": ["vol_shift"]
    },
    {
      "name": "trend_sign",
      "type": "Sign",
      "updateSource": ["trend_strength"]
    },
    {
      "name": "vol_shift_sign",
      "type": "Sign",
      "updateSource": ["vol_shift"]
    },
    {
      "name": "alignment",
      "type": "Mul",
      "updateSource": ["trend_sign", "vol_shift_sign"]
    },
    {
      "name": "trend_strength_abs",
      "type": "Abs",
      "updateSource": ["trend_strength"]
    },
    {
      "name": "combined_strength",
      "type": "Mul",
      "updateSource": ["vol_shift_abs", "trend_strength_abs"]
    },
    {
      "name": "raw_signal",
      "type": "Mul",
      "updateSource": ["alignment", "combined_strength"]
    },
    {
      "name": "signal_scaled",
      "type": "Mul",
      "updateSource": ["raw_signal", "scale_factor"]
    },
    {
      "name": "scale_factor",
      "type": "Const",
      "init": { "value": 1000.0 }
    },
    {
      "name": "signal_clamped",
      "type": "Clamp",
      "updateSource": ["signal_scaled", "neg_hundred", "hundred"]
    },
    {
      "name": "neg_hundred",
      "type": "Const",
      "init": { "value": -100.0 }
    },
    {
      "name": "hundred",
      "type": "Const",
      "init": { "value": 100.0 }
    },
    {
      "name": "fifty",
      "type": "Const",
      "init": { "value": 50.0 }
    },
    {
      "name": "my_signal",
      "type": "Add",
      "updateSource": ["signal_clamped", "fifty"]
    }
  ]
}
